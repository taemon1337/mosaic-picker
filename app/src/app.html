<!doctype html>
<html lang="en">
  <head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="google" content="notranslate">
	<link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <title>mosaic</title>

	<!-- Load the Beer CSS and material icons. -->
	<link href="https://cdn.jsdelivr.net/npm/beercss@3.7.8/dist/cdn/beer.min.css" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.7.8/dist/cdn/beer.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/material-dynamic-colors@1.1.2/dist/cdn/material-dynamic-colors.min.js"></script>
	
	<script>
		function handleToken(resp) {
			const event = new CustomEvent('google-login', { detail: resp });
        	window.dispatchEvent(event); // Dispatch the event globally
		}
		function handleClient(resp) {
			console.log('handle client', resp);
		}
		function onApiLoad() {
        	gapi.load('picker', onPickerApiLoad);
      	}
		  function onPickerApiLoad() {
        	console.log('picker api loaded');
     	}
		function onGisLoad(resp) {
			console.log('gis loaded', resp);
			const event = new CustomEvent('google-account', { detail: resp });
        	window.dispatchEvent(event); // Dispatch the event globally
		}
	</script>

	<!-- Load the Google API Loader script. -->
	<meta name="google-signin-client_id" content="import.meta.env.VITE_GOOGLE_CLIENT_ID" />
	<script src="https://accounts.google.com/gsi/client" onload="onGisLoad()" async defer></script>
	<script src="https://apis.google.com/js/api.js" onload="onApiLoad()" async defer></script>

	%sveltekit.head%
  </head>
  <body class="light" data-sveltekit-preload-data="hover">
  	<div class="container" style="display: contents">%sveltekit.body%</div>
  </body>
</html>